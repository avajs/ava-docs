___
**ì—­ìì£¼**

ì´ ë¬¸ì„œëŠ” [03-assertions](https://github.com/avajs/ava/blob/main/docs/03-assertions.md)ì˜ í•œêµ­ì–´ ë²ˆì—­ì…ë‹ˆë‹¤. [ì´ê³³](https://github.com/avajs/ava/compare/71404c23302d825095659c70cb9a1b08251697ad...main#diff-0730bb7c2e8f9ea2438b52e419dd86c9)ì—ì„œ AVAì˜ master ë¸Œëœì¹˜ì™€ ì´ ë¬¸ì„œì˜ ì°¨ì´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ë§Œì•½ ì°¨ì´ê°€ ì—†ë‹¤ë©´ ë¬¸ì„œê°€ ìµœì‹  ë²„ì „ì„ì„ ì˜ë¯¸í•©ë‹ˆë‹¤)
___

# ë‹¨ì–¸ë¬¸ (Assertions)

ë‹¨ì–¸ë¬¸ë“¤ì€ ê° í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ êµ¬í˜„ì—ì„œ [ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸](./02-execution-context.md)ë¥¼ í†µí•´ ì œê³µë©ë‹ˆë‹¤.

```js
test('unicorns are truthy', t => {
	t.truthy('unicorn'); // ë‹¨ì–¸ë¬¸
});
```

ë‹¨ì–¸ë¬¸ë“¤ì€ ê·¸ í…ŒìŠ¤íŠ¸ë“¤ì— ì¢…ì†(bounding) ë˜ê¸° ë•Œë¬¸ì—, ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì— ë³€ìˆ˜ë¥¼ í• ë‹¹í•˜ê±°ë‚˜ ë„˜ê²¨ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```js
test('unicorns are truthy', t => {
	const truthy = t.truthy;
	truthy('unicorn');
});
```

í•˜ë‚˜ì˜ í…ŒìŠ¤íŠ¸ ë‚´ë¶€ì—ì„œ ì—¬ëŸ¬ ë‹¨ì–¸ë¬¸ë“¤ì´ ì‹¤íŒ¨í•˜ê²Œ ë˜ë©´ AVAëŠ” ì˜¤ì§ ì²˜ìŒ *í•˜ë‚˜ì˜* ì‹¤íŒ¨ë§Œ í‘œì‹œí•©ë‹ˆë‹¤.

ë‹¨ì–¸ë¬¸ì€ í†µê³¼ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” boolean ê°’ì„ ë¦¬í„´í•©ë‹ˆë‹¤. ì´ ê°’ì„ ì‚¬ìš©í•´ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì¼ì° ì¢…ë£Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ê²ƒì´ `throws`, `snapshot`ì˜ ê²½ìš°ì—” ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì„ ìœ ì˜í•˜ì„¸ìš”.

## `plan` ë‹¨ì–¸ë¬¸ ì‚¬ìš©í•˜ê¸°

`plan`ì€ íŠ¹ì • ìˆ˜ì˜ ë‹¨ì–¸ë¬¸ì´ ì‹¤í–‰ëœ ê²½ìš°ì—ë§Œ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ë„ë¡ í•©ë‹ˆë‹¤.

`plan`ì€ í…ŒìŠ¤íŠ¸ë“¤ì´ ë„ˆë¬´ ì¼ì° ì¢…ë£Œë˜ì—ˆì„ ë•Œ ì—ëŸ¬ë¥¼ ì¡ì•„ë‚¼ ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤.

`plan`ì€ ë˜í•œ ë„ˆë¬´ ë§ì€ ë‹¨ì–¸ë¬¸ì´ ì‹¤í–‰ë˜ë©´ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤íŒ¨í•˜ê²Œ ë§Œë“¤ë©°, ì´ëŠ” ì½œë°±ì´ë‚˜ ë°˜ë³µë¬¸ ë‚´ë¶€ì— ë‹¨ì–¸ë¬¸ì´ ìˆëŠ” ê²½ìš° ìœ ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë§Œì•½ `plan`ì„ ëª…ì‹œí•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ì–´ë–¤ ë‹¨ì–¸ë¬¸ë„ ì‹¤í–‰ë˜ì§€ ì•Šì•˜ì„ ë•Œ ì—¬ì „íˆ ì‹¤íŒ¨í•  ê²ƒì…ë‹ˆë‹¤.

[`package.json` configuration](./06-configuration.md)ì˜ `failWithoutAssertions` ì˜µì…˜ì„ `false`ë¡œ ë§Œë“¤ì–´ ì´ behaviorë¥¼ ë¹„í™œì„±í™” í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

[`tap`](https://www.npmjs.com/package/tap), [`tape`](https://www.npmjs.com/package/tape)ê³¼ëŠ” ë‹¤ë¥´ê²Œ, AVAëŠ” `plan` ë‹¨ì–¸ë¬¸ì— ë„ë‹¬í–ˆì„ ë•Œ ìë™ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ *ì¢…ë£Œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.*

ë‹¤ìŒ ì˜ˆì œëŠ” í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•©ë‹ˆë‹¤:

```js
test('resolves with 3', t => {
	t.plan(1);

	return Promise.resolve(3).then(n => {
		t.is(n, 3);
	});
});
```

ì•„ë˜ì˜ ê²½ìš°ì—” ì„±ê³µí•˜ì§€ ëª»í•  ê²ƒì…ë‹ˆë‹¤:

```js
test('loops twice', t => {
	t.plan(2);

	for (let i = 0; i < 3; i++) {
		t.true(i < 3);
	}
}); // 3ë²ˆì˜ ë‹¨ì–¸ë¬¸ì´ ì‹¤í–‰ë˜ì—ˆê¸° ë•Œë¬¸ì— ì‹¤íŒ¨ 

test('invokes callback synchronously', t => {
	t.plan(1);

	someAsyncFunction(() => {
		t.pass();
	});
}); // ë‹¨ì–¸ë¬¸ì´ ì‹¤í–‰ë˜ê¸° ì „ í…ŒìŠ¤íŠ¸ê°€ ë™ê¸°ì ìœ¼ë¡œ ì¢…ë£Œë˜ê¸° ë•Œë¬¸ì— ì‹¤íŒ¨.
```

## ë‹¨ì–¸ë¬¸ ìŠ¤í‚µí•˜ê¸°

ëª¨ë“  ë‹¨ì–¸ë¬¸ë“¤ì€ `skip` í•œì •ìë¥¼ ì‚¬ìš©í•´ ìŠ¤í‚µë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìŠ¤í‚µëœ ë‹¨ì–¸ë¬¸ë“¤ë„ ì—¬ì „íˆ ì¹´ìš´íŠ¸ ë©ë‹ˆë‹¤, ë”°ë¼ì„œ planì˜ ì¸ìë¥¼ ë³€ê²½í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤.

```js
test('skip assertion', t => {
	t.plan(2);
	t.is.skip(foo(), 5); // skipì„ ì¶”ê°€í•  ë•Œ plan countë¥¼ ë³€ê²½í•  í•„ìš” ì—†ìŒ
	t.is(1, 1);
});
```

## ì»¤ìŠ¤í…€ ë‹¨ì–¸ë¬¸ ì‚¬ìš©í•˜ê¸°

ë‹¨ì–¸ë¬¸ì´ ì‹¤íŒ¨í•˜ê³  ì˜ˆì™¸ë¥¼ throw í•˜ëŠ” ê²½ìš°ì—ëŠ” [built-in ë‹¨ì–¸ë¬¸](#built-in-ë‹¨ì–¸ë¬¸ë“¤) ëŒ€ì‹  ë‹¨ì–¸ë¬¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš© í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ê²ƒì€ [built-in ë‹¨ì–¸ë¬¸](#built-in-ë‹¨ì–¸ë¬¸ë“¤)ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒ ë§Œí¼ ì¢‹ì€ ê²½í—˜ì„ ì£¼ì§€ëŠ” ëª»í•˜ê² ì§€ë§Œìš”.

ê·¸ë¦¬ê³  ë‹¹ì‹ ì€ [ë‹¨ì–¸ë¬¸ planning](#plan-ë‹¨ì–¸ë¬¸-ì‚¬ìš©í•˜ê¸°)ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ê²Œ ë  ê²ƒì…ë‹ˆë‹¤. (ì°¸ê³ : [#25](https://github.com/avajs/ava/issues/25))

AVAëŠ” ì»¤ìŠ¤í…€ ë‹¨ì–¸ë¬¸ì´ ì„±ê³µí–ˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ë‹¨ì–¸ë¬¸ì´ ì‹¤í–‰ë˜ì§€ ì•Šì€ ê²½ìš° í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ì§€ ì•Šë„ë¡ AVAë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.

[`package.json` configuration](./06-configuration.md)ì˜ `failWithoutAssertions` ì„ falseë¡œ ì„¤ì •í•˜ì„¸ìš”.

```js
const assert = require('assert');

test('custom assertion', t => {
	assert(true);
});
```

## Built-in ë‹¨ì–¸ë¬¸ë“¤

### `.pass(message?)`

ë‹¨ì–¸ë¬¸ì„ í†µê³¼ì‹œí‚µë‹ˆë‹¤. ë‹¨ì–¸ë¬¸ì´ ì„±ê³µì ìœ¼ë¡œ íŒ¨ìŠ¤ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ boolean ê°’ìœ¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

### `.fail(message?)`

ë‹¨ì–¸ë¬¸ì„ ì‹¤íŒ¨ì‹œí‚µë‹ˆë‹¤. ë‹¨ì–¸ë¬¸ì´ ì„±ê³µì ìœ¼ë¡œ íŒ¨ìŠ¤ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ boolean ê°’ìœ¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

### `.assert(actual, message?)`

`actual`ì¸ìê°€ `truthy`ë¼ê³  ë‹¨ì–¸í•©ë‹ˆë‹¤. ë‹¨ì–¸ë¬¸ì´ ì„±ê³µì ìœ¼ë¡œ íŒ¨ìŠ¤ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ boolean ê°’ìœ¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

### `.truthy(actual, message?)`

`actual`ì´ `truthy`ë¼ê³  ë‹¨ì–¸í•©ë‹ˆë‹¤. ë‹¨ì–¸ë¬¸ì´ ì„±ê³µì ìœ¼ë¡œ íŒ¨ìŠ¤ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ boolean ê°’ìœ¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

### `.falsy(actual, message?)`

`actual`ì´ `falsy`ë¼ê³  ë‹¨ì–¸í•©ë‹ˆë‹¤. ë‹¨ì–¸ë¬¸ì´ ì„±ê³µì ìœ¼ë¡œ íŒ¨ìŠ¤ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ boolean ê°’ìœ¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

### `.true(actual, message?)`

`actual`ì´ `true`ë¼ê³  ë‹¨ì–¸í•©ë‹ˆë‹¤. ë‹¨ì–¸ë¬¸ì´ ì„±ê³µì ìœ¼ë¡œ íŒ¨ìŠ¤ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ boolean ê°’ìœ¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

### `.false(actual, message?)`

`actual`ì´ `false`ë¼ê³  ë‹¨ì–¸í•©ë‹ˆë‹¤. ë‹¨ì–¸ë¬¸ì´ ì„±ê³µì ìœ¼ë¡œ íŒ¨ìŠ¤ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ boolean ê°’ìœ¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

### `.is(actual, expected, message?)`

`actual`ì´ `expected`ì™€ ê°™ì€ ê²°ê³¼ë¼ê³  ë‹¨ì–¸í•©ë‹ˆë‹¤.

ì´ê²ƒì€ [`Object.is()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is)ì— ê¸°ë°˜í•´ íŒë‹¨ë©ë‹ˆë‹¤.

ë‹¨ì–¸ë¬¸ì´ ì„±ê³µì ìœ¼ë¡œ íŒ¨ìŠ¤ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ boolean ê°’ìœ¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

### `.not(actual, expected, message?)`

`actual`ì´ `expected`ì™€ ê°™ì€ ê²°ê³¼ê°€ ì•„ë‹ˆë¼ê³  ë‹¨ì–¸í•©ë‹ˆë‹¤.

ì´ê²ƒì€ [`Object.is()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is)ì— ê¸°ë°˜í•´ íŒë‹¨ë©ë‹ˆë‹¤.

ë‹¨ì–¸ë¬¸ì´ ì„±ê³µì ìœ¼ë¡œ íŒ¨ìŠ¤ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ boolean ê°’ìœ¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

### `.deepEqual(actual, expected, message?)`

`actual`ê³¼ `expected`ê°€ ê¹Šì€ ë¹„êµë¥¼ í†µí•´ ê°™ì€ ê°’(deeply equal) ì´ë¼ê³  ë‹¨ì–¸í•©ë‹ˆë‹¤.

ìƒì„¸ ì‚¬í•­ì€ [Concordance](https://github.com/concordancejs/concordance)ì„ ì°¸ì¡°í•˜ì„¸ìš”.

### `.notDeepEqual(actual, expected, message?)`

`actual`ê³¼ `expected`ê°€ ê¹Šì€ ë¹„êµë¥¼ í†µí•´ ë‹¤ë¥¸ ê°’(not deeply equal) ì´ë¼ê³  ë‹¨ì–¸í•©ë‹ˆë‹¤.

`.deepEqual()`ì˜ ë°˜ëŒ€ì…ë‹ˆë‹¤.

ë‹¨ì–¸ë¬¸ì´ ì„±ê³µì ìœ¼ë¡œ íŒ¨ìŠ¤ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ boolean ê°’ìœ¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

### `.like(actual, selector, message?)`

`actual`ì´ `selector`ì™€ ê°™ë‹¤ê³ (like) ë‹¨ì–¸í•©ë‹ˆë‹¤.

ì´ê²ƒì€ `.deepEqual()`ì˜ ë³€ì¢…ìœ¼ë¡œ, `selector`ëŠ” `actual`ê³¼ ë™ì¼í•œ ì—´ê±°í˜• ì†ì„±(enumerable properties)ì„ ê°–ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.

AVAëŠ” `selector`ì— ê¹Šì€ ë¹„êµë¥¼ ì ìš©í•˜ëŠ” ëŒ€ì‹ , `actual`ì—ì„œ *comparable* ê°ì²´ë¥¼ ì´ëŒì–´ëƒ…ë‹ˆë‹¤.

í•´ë‹¹ ê°ì²´ë¥¼ `selector`ì™€ `.deepEqual()`ì„ í†µí•´ ë¹„êµí•©ë‹ˆë‹¤.

`selector` ë‚´ë¶€ì˜ ì¼ë°˜ ê°ì²´ê°€ ì•„ë‹Œ ëª¨ë“  ê°’ë“¤ì€ `actual`ì˜ í•´ë‹¹í•˜ëŠ” ê°’ë“¤ê³¼ ê¹Šì€ ë¹„êµë¥¼ í†µí•´ ê°™ì•„ì•¼(deeply equal) í•©ë‹ˆë‹¤.

ì•„ë˜ì˜ ì˜ˆì—ì„œ, `actual`ì˜ `map` í”„ë¡œí¼í‹°ëŠ” `selector`ì˜ `map` í”„ë¡œí¼í‹°ì™€ deeply equal í•©ë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜, `nested.qux`ì€ ë¬´ì‹œë©ë‹ˆë‹¤. í•´ë‹¹ ê°’ì€ `selector`ì˜ ì—´ê±°í˜• ì†ì„±ì— ìˆì§€ ì•Šê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

```js
t.like({
	map: new Map([['foo', 'bar']]),
	nested: {
		baz: 'thud',
		qux: 'quux'
	}
}, {
	map: new Map([['foo', 'bar']]),
	nested: {
		baz: 'thud',
	}
})
```

ìµœì¢…ì ìœ¼ë¡œ, ìœ„ í…ŒìŠ¤íŠ¸ëŠ” í•´ë‹¹ í…ŒìŠ¤íŠ¸ê°€ í†µê³¼ ë˜ì—ˆìŒì„ ë‚˜íƒ€ë‚´ëŠ” boolean ê°’ì„ ë¦¬í„´í•˜ê²Œ ë©ë‹ˆë‹¤.

### `.throws(fn, expectation?, message?)`

ì—ëŸ¬ê°€ ì¼ì–´ë‚¨ì„ ë‹¨ì–¸í•©ë‹ˆë‹¤.

`fn`ì€ ì—ëŸ¬ë¥¼ ë˜ì§€ëŠ” í•¨ìˆ˜ì—¬ì•¼ í•©ë‹ˆë‹¤.

ë°œìƒí•œ(thrown) ì—ëŸ¬ëŠ” ë°˜ë“œì‹œ *ì—ëŸ¬*ì—¬ì•¼ í•©ë‹ˆë‹¤.

ì—ëŸ¬ê°€ ë°˜í™˜ë˜ë¯€ë¡œ ë” ë§ì€ ë‹¨ì–¸ë¬¸ë“¤ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë§Œì•½ `undefined`ê°€ ë°˜í™˜ë˜ë©´ `throws` ë‹¨ì–¸ë¬¸ì€ ì‹¤íŒ¨í•˜ê²Œ ë©ë‹ˆë‹¤.

`expectation`ì€ ì•„ë˜ì˜ í”„ë¡œí¼í‹°ë“¤ ì¤‘ í•˜ë‚˜ ì´ìƒì˜ í”„ë¡œí¼í‹°ë“¤ì„ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

* `instanceOf`: ë˜ì ¸ì§„ ì—ëŸ¬ê°€ í•´ë‹¹ constructorì˜ ì¸ìŠ¤í„´ìŠ¤ì—¬ì•¼ í•¨ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
* `is`: ë°œìƒí•œ ì—ëŸ¬ê°€ `expectation.is`ê³¼ ì—„ê²©í•˜ê²Œ(strictly) ë™ì¼í•´ì•¼ í•¨ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
* `message`: ë¬¸ìì—´ì¸ ê²½ìš°, ë°œìƒí•œ ì—ëŸ¬ì˜ ë©”ì„¸ì§€ë¥¼ ë‚˜íƒ€ë‚´ë©°, ì •ê·œí‘œí˜„ì‹ì¸ ê²½ìš°, ë°œìƒí•œ ì—ëŸ¬ì˜ ë©”ì‹œì§€ì— ë§¤ì¹˜ ë˜ëŠ”ì§€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
* `name`: ë°œìƒí•œ ì—ëŸ¬ì— ì˜ˆìƒë˜ëŠ” `.name` ê°’ ì…ë‹ˆë‹¤.
* `code`: ë°œìƒí•œ ì—ëŸ¬ì— ì˜ˆìƒë˜ëŠ” `.code` ê°’ ì…ë‹ˆë‹¤.

`expectation`ì€ ë°˜ë“œì‹œ ëª…ì‹œë  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤.

ë§Œì•½ `message` ì´ì™¸ì˜ ê°’ë“¤ì„ ì„¤ì •í•  í•„ìš”ê°€ ì—†ë‹¤ë©´, ë‹¤ë¥¸ ê°’ë“¤ì€ `undefined`ë¡œ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.

ì˜ˆì œ:

```js
const fn = () => {
	throw new TypeError('ğŸ¦„');
};

test('throws', t => {
	const error = t.throws(() => {
		fn();
	}, {instanceOf: TypeError});

	t.is(error.message, 'ğŸ¦„');
});
```

### `.throwsAsync(thrower, expectation?, message?)`

ì—ëŸ¬ê°€ ë°œìƒí•¨ì„ ë‹¨ì–¸í•©ë‹ˆë‹¤.

`thrower`ëŠ” ì—ëŸ¬ë¥¼ ë˜ì§ˆ async í•¨ìˆ˜ì´ê±°ë‚˜, rejectë  í”„ë¼ë¯¸ìŠ¤ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ë‹¨ì–¸ë¬¸ì€ awaitê³¼ ì‚¬ìš©ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

ë°œìƒí•œ(thrown) ê°’ì€ *ë°˜ë“œì‹œ* ì—ëŸ¬ì—¬ì•¼ í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ë¦¬í„´ë˜ë¯€ë¡œ í•´ë‹¹ ë‹¨ì–¸ë¬¸ ì™¸ì—ë„ ë” ë§ì€ ë‹¨ì–¸ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë§Œì•½ ë‹¨ì–¸ë¬¸ì´ ì‹¤íŒ¨í•œë‹¤ë©´, `undefined`ê°€ ë¦¬í„´ë©ë‹ˆë‹¤.

`expectation`ì€ ì•„ë˜ì˜ ì†ì„±ë“¤ ì¤‘ í•œ ê°œ ì´ìƒì˜ ì†ì„±ì„ ê°–ëŠ” ê°ì²´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

* `instanceOf`: ë°œìƒí•œ ì—ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒì„±ì

* `is`: ë°œìƒí•œ ì—ëŸ¬ëŠ” `expectation.is`ì™€ ì—„ê²©í•˜ê²Œ ë™ì¼í•´ì•¼(strictly equal) í•©ë‹ˆë‹¤.

* `message`: ë°œìƒí•œ ì—ëŸ¬ì˜ ë¬¸ìì—´ì´ê±°ë‚˜, ë¬¸ìì—´ì— ë§¤ì¹˜ë˜ëŠ” ì •ê·œí‘œí˜„ì‹.

* `name`: ë°œìƒí•œ ì—ëŸ¬ì˜ ì˜ˆìƒë˜ëŠ” `.name` ê°’.

* `code`: ë°œìƒí•œ ì—ëŸ¬ì˜ ì˜ˆìƒë˜ëŠ” `.code` ê°’.

`expectation`ì€ í•„ìˆ˜ ì¸ìê°€ ì•„ë‹™ë‹ˆë‹¤.

ë§Œì•½ expectationì„ ì›í•˜ì§€ ì•Šì§€ë§Œ, ë‹¨ì–¸ë¬¸ messageë¥¼ ëª…ì‹œí•˜ê³  ì‹¶ë‹¤ë©´ expectationì— `undefined`ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.

ì˜ˆì œ:

```js
test('throws', async t => {
	await t.throwsAsync(async () => {
		throw new TypeError('ğŸ¦„');
	}, {instanceOf: TypeError, message: 'ğŸ¦„'});
});
```

```js
const promise = Promise.reject(new TypeError('ğŸ¦„'));

test('rejects', async t => {
	const error = await t.throwsAsync(promise);
	t.is(error.message, 'ğŸ¦„');
});
```

### `.notThrows(fn, message?)`

fn ë‚´ë¶€ì—ì„œ ì–´ë–¤ ì—ëŸ¬ë„ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ë‹¨ì–¸í•©ë‹ˆë‹¤.

`fn`ì€ ì—ëŸ¬ë¥¼ ë˜ì§€ì§€ ì•ŠëŠ” í•¨ìˆ˜ì—¬ì•¼ í•©ë‹ˆë‹¤. í•´ë‹¹ í•¨ìˆ˜ëŠ” ì–´ë–¤ ê²ƒë„ ë¦¬í„´í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

### `.notThrowsAsync(nonThrower, message?)`

fn ë‚´ë¶€ì—ì„œ ì–´ë–¤ ì—ëŸ¬ë„ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ë‹¨ì–¸í•©ë‹ˆë‹¤.

`nonThrower`ì€ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•ŠëŠ” async í•¨ìˆ˜ì´ê±°ë‚˜, ë°˜ë“œì‹œ resolve ë˜ëŠ” í”„ë¼ë¯¸ìŠ¤ ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`.throwsAsync()`ì™€ ê°™ì´, awaitì„ ì‚¬ìš©í•´ ë°˜ë“œì‹œ í•´ë‹¹ ë‹¨ì–¸ë¬¸ì´ ëë‚˜ê¸°ë¥¼ ê¸°ë‹¤ë ¤ì•¼ í•©ë‹ˆë‹¤.

```js
test('resolves', async t => {
	await t.notThrowsAsync(promise);
});
```

í•´ë‹¹ í•¨ìˆ˜ëŠ” ì–´ë–¤ ê²ƒë„ ë¦¬í„´í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

### `.regex(contents, regex, message?)`

`contents`ê°€ ì •ê·œí‘œí˜„ì‹ `regex`ì— ë§¤ì¹­ ëœë‹¤ê³  ë‹¨ì–¸í•©ë‹ˆë‹¤.

í•´ë‹¹ ë‹¨ì–¸ë¬¸ì´ ì„±ê³µí–ˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” booleaní˜• ë³€ìˆ˜ë¥¼ ë¦¬í„´í•©ë‹ˆë‹¤.

### `.notRegex(contents, regex, message?)`

`contents`ê°€ ì •ê·œí‘œí˜„ì‹ `regex`ì— ë§¤ì¹­ ë˜ì§€ ì•ŠëŠ”ë‹¤ê³  ë‹¨ì–¸í•©ë‹ˆë‹¤.

í•´ë‹¹ ë‹¨ì–¸ë¬¸ì´ ì„±ê³µí–ˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” booleaní˜• ë³€ìˆ˜ë¥¼ ë¦¬í„´í•©ë‹ˆë‹¤.

### `.snapshot(expected, message?)`

`expected`ê°’ê³¼ ì´ì „ì— ê¸°ë¡ëœ ìŠ¤ëƒ…ìƒ·ì„ ë¹„êµí•©ë‹ˆë‹¤.

ìŠ¤ëƒ…ìƒ·ì€ ë§¤ í…ŒìŠ¤íŠ¸ ë§ˆë‹¤ ì €ì¥ë©ë‹ˆë‹¤, ë”°ë¼ì„œ ë‹¹ì‹ ì˜ í…ŒìŠ¤íŠ¸ë“¤ì— ê³ ìœ í•œ title ê°’ì„ ëª…ì‹œí•˜ì„¸ìš”.

### `.try(title?, implementation | macro, ...args?)`

`.try()`ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤íŒ¨ì‹œí‚¤ì§€ ì•Šìœ¼ë©´ì„œ ë‹¨ì–¸ë¬¸ì„ *ì‹œë„* í•´ ë³¼ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

í•¨ìˆ˜ êµ¬í˜„ì€ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë“¤ê³¼ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.

ë§¤í¬ë¡œë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì²« ë²ˆì§¸ title ì¸ìëŠ” í•­ìƒ ì„ íƒì (optional) ì…ë‹ˆë‹¤.

ì¶”ê°€ ì¸ìë“¤ì€ macro í•¨ìˆ˜ë‚˜ êµ¬í˜„ í•¨ìˆ˜ì— ë„˜ê²¨ ì§‘ë‹ˆë‹¤.

`.try()`ëŠ” async í•¨ìˆ˜ë¡œ, `await`ê³¼ í•¨ê»˜ ì‚¬ìš©ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

ë¦¬í„´ëœ ê°ì²´ëŠ” `commit()`, `discard()` ë©”ì„œë“œë¥¼ ê°–ìŠµë‹ˆë‹¤.

ê²€ì‚¬ ê²°ê³¼ë¥¼ ì»¤ë°‹í•  ì§€(commit), ë²„ë¦´ ì§€(discard) ê²°ì •í•´ì•¼ í•©ë‹ˆë‹¤.

ì‹¤íŒ¨í•œ ê²°ê³¼ë¥¼ ì»¤ë°‹í•œë‹¤ë©´, í…ŒìŠ¤íŠ¸ëŠ” ì‹¤íŒ¨í•˜ê²Œ ë©ë‹ˆë‹¤.

`passed` í”„ë¡œí¼í‹°ë¥¼ í†µí•´ í•´ë‹¹ ì‹œë„ê°€ íŒ¨ìŠ¤ ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ì²´í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‹¨ì–¸ë¬¸ë“¤ì˜ ëª¨ë“  ì—ëŸ¬ëŠ” `errors` í”„ë¡œí¼í‹°ë¥¼ í†µí•´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í•´ë‹¹ ì‹œë„ì˜ title ê°’ì€ `title` í”„ë¡œí¼í‹°ë¥¼ í†µí•´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`t.log()`ë¥¼ í†µí•œ ë¡œê·¸ ê°’ë“¤ì€ `logs` í”„ë¡œí¼í‹°ë¥¼ í†µí•´ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.

ì´ëŸ° ë¡œê·¸ ê°’ë“¤ì„ í…ŒìŠ¤íŠ¸ì˜ ì¼ë¶€ë¡œ ìœ ì§€í• ì§€ `{retainLogs: true}`ë¥¼ `commit()`, `discard()` ë©”ì„œë“œë“¤ì— ë„˜ê²¨ì¤Œìœ¼ë¡œì¨ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í•¨ìˆ˜ êµ¬í˜„ì€, í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ì²˜ëŸ¼ ê·¸ í•¨ìˆ˜ ìì²´ì˜ [ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸](./02-execution-context.md)ë¥¼ ë°›ìŠµë‹ˆë‹¤.

ì‹œë„ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•´ ë‹¨ì–¸ë¬¸ë§Œ ìˆ˜í–‰í•˜ë„ë¡ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.

í…ŒìŠ¤íŠ¸ê°€ í†µê³¼ë˜ë ¤ë©´, ì‹œë„ë“¤ì—ì„œ ì ì–´ë„ í•˜ë‚˜ì˜ ë‹¨ì–¸ë¬¸ì€ ë°˜ë“œì‹œ íŒ¨ìŠ¤ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

í•˜ë‚˜ì˜ í…ŒìŠ¤íŠ¸ ë‚´ë¶€ì—ì„œ ë™ì‹œì—(concurrently) ì—¬ëŸ¬ ì‹œë„ë“¤ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

(ê·¸ëŸ¬ë‚˜, ì´ë ‡ê²Œ í•  ë• snapshotì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.)

ì˜ˆì œ:

```js
const twoRandomIntegers = () => {
	const rnd = Math.round(Math.random() * 100);
	const x = rnd % 10;
	const y = Math.floor(rnd / 10);
	return [x, y];
};

test('flaky macro', async t => {
	const firstTry = await t.try((tt, a, b) => {
		tt.is(a, b);
	}, ...randomIntegers());

	if (firstTry.passed) {
		firstTry.commit();
		return;
	}

	firstTry.discard();
	t.log(firstTry.errors);

	const secondTry = await t.try((tt, a, b) => {
		tt.is(a, b);
	}, ...randomIntegers());
	secondTry.commit();
});
```

í•´ë‹¹ ë‹¨ì–¸ë¬¸ì´ ì„±ê³µí–ˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” booleaní˜• ë³€ìˆ˜ë¥¼ ë¦¬í„´í•©ë‹ˆë‹¤.
